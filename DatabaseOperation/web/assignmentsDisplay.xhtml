<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t ="http://myfaces.apache.org/tomahawk"
      xmlns:p="http://primefaces.org/ui">

<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"></meta>
<meta http-equiv="Pragma" content="no-cache"></meta>
<meta http-equiv="Expires" content="0"></meta>

  <style type="text/css"> 
  			html{
  			background-color:#e7efcd;
  			}
  			
  			.mainFrame{
  			    background-image: url(images/adminbg.png);
                background-position:center;
                background-size:cover;
                background-repeat:no-repeat; 
                background-color:transparent;	
                width:1024px;
                height:700px;
                margin: 0px auto 0px auto;
  			
  			}
  			
  			.add{
  				position:relative;
  				top:45px;
  				left:25px;
  				width:120px;
  				height:120px;
  			}  
  			
  			.ring{
  				position:relative;
  				top:200px;
  				
  			}       
             
            .ui-ring{
            	width:650px;
            	margin: 0px auto 0px auto;
            }
            .ui-ring-item {
            	font-size:12;
  			    width: 183px;
                height:143px;              	
                text-align:center;
                background-position:center;
                background-size:cover;
                background-repeat:no-repeat; 
                background-color:transparent;                
                border:none;
  	 
            }
            
            
            .buttonStyle {
				border:none;   
               	width: 20px;
                height:20px;
				margin-top:50px; 		
					
			}
			
			.addNewAssignment{
				width: 75px;
                height:75px;
                margin-top:50px;
                margin-left:5px;
                border:none;
			}
			
			.zoomIcon{
				width:60px;
				height:60px;
				position:absolute;
				bottom:20%;
				left:50%;
				margin-left: -30px;
			}
			
			.rubricDisplay{
				position:absolute;
				top:5px;
				left:100px;
			}
			
			.ui-dialog.ui-widget-content {
     		background-color: transparent;
     		box-shadow: none !important;
     		border:none;
     		padding:none;
			}
			
			
  </style>
	

<script type="text/javascript">
function buttonover()
{
	document.buttonAdd.src="images/add_r1_c1_s2.png";
}

function buttonout(){
	document.buttonAdd.src="images/add_r1_c1.png";
}

function buttondown(){
	document.buttonAdd.src="images/add_r1_c1_s3.png";
}

function iconover(){
	document.iconAdd.src="images/zoomin_s02.png";
}

function iconout(){
	document.iconAdd.src="images/zoomin_s01.png";
}

function updateover(){
	document.buttonUpdate.src="images/update_s1.png";
}

function updateout(){
	document.buttonUpdate.src="images/update_s0.png";
}

function updatedown(){
	document.buttonUpdate.src="images/update_s2.png";
}

function cancelover(){
	document.buttonCancel.src="images/cancel_s1.png";
}

function cancelout(){
	document.buttonCancel.src="images/cancel_s0.png";
}

function canceldown(){
	document.buttonCancel.src="images/cancel_s2.png";
}
</script>

	
</h:head>
<h:body>

<!-- 	<h1>
	<h:outputLabel value="#{menuoption.selectYear}">
	</h:outputLabel>
	<h:outputLabel value="#{menuoption.selectTerm}">
	</h:outputLabel>
	</h1> -->
	<p:outputPanel layout="block" styleClass="mainFrame">
    
    <p:outputPanel layout="block" styleClass="add">
    <p:commandLink onmouseover="buttonover();" onmouseout="buttonout();" onmousedown="buttondown();" onclick="addnew.show()" styleClass="addNewAssignment" >
        <img name="buttonAdd" src="images/add_r1_c1.png" style="border:none"/>
    </p:commandLink>
    </p:outputPanel>
      
	<p:outputPanel layout="block" styleClass="ring">
	<h:form>
    <p:ring id="basic" value="#{assignment.getAssignmentList(menuoption.selectYear,menuoption.selectTerm)}" var="a">  
        <p:column>
        <p:outputPanel style="text-align:center; padding-top:15px;" layout="block" styleClass="assignmentBlock">  
         		<p:outputPanel>#{a.assignmentName}</p:outputPanel>
         		<p:outputPanel style="text-align:center;" layout="block" styleClass="zoomIcon" > 
         		<p:commandLink 
                            update=":updateDialog, :display"
                            oncomplete="dlg.show()">
                <img name="iconAdd" src="images/zoomin_s01.png" onmouseover="this.src ='images/zoomin_s02.png'" onmouseout="this.src='images/zoomin_s01.png'"/>
         		<f:setPropertyActionListener value="#{a}"  target="#{assignment.selectedAssignment}" />
                </p:commandLink>
                </p:outputPanel> 
   		</p:outputPanel> 
   		</p:column>
    </p:ring>  
    </h:form>
    
    </p:outputPanel>
    
    <p:dialog id="dialog" widgetVar="dlg" showEffect="fade" hideEffect="fade" modal="true" width="330" height="315" showHeader="false" draggable="false" resizable="false" styleClass="test">  
  	<p:outputPanel id="display" style="text-align:center;background-image:url(images/update_panel.png);height:312px;width:312px" layout="block"> 
  	<p:outputPanel layout="block" style="position:absolute;top:7%;left:38%">
  	<h:outputText style="font-size:16; font-weight:bold;"  
                            value="#{assignment.selectedAssignment.assignmentName}" /> 
    </p:outputPanel> 
    
    <p:outputPanel layout="block" style="position:absolute;top:65px;right:40px">
   	<p:commandLink action="#{gradestudentBean.getGradeStudentList(assignment.selectedAssignment.assignmentID)}" update=":dlgLogDisplay, :dlgSingleLogDisplay" oncomplete="dlgLog.show();dlg.hide()">
   	<img src="images/history_button_s0.png" onmouseover="this.src ='images/history_button_s1.png'" onmouseout="this.src='images/history_button_s0.png'" onmousedown="this.src='images/history_button_s2.png'"/>
   	</p:commandLink>
   	</p:outputPanel>
   	
  	<p:outputPanel layout="block" style="position:absolute;top:115px;left:38%">
  	<h:outputText style="font-size:14; font-style:italic; font-family:'Myriad Pro'; color:green"  
                            value="#{assignment.selectedAssignment.deadline}" /> 
    </p:outputPanel>
    
    
    <p:outputPanel layout="block" style="position:absolute;top:150px;left:38%">
  	<h:outputText style="font-size:16; font-weight:bold;"  
                            value="#{assignment.selectedAssignment.description}" /> 
    </p:outputPanel>
    
    
    <p:outputPanel layout="block">
 	<p:commandLink onclick="updateUI.show()" oncomplete="dlg.hide()" onmouseover="updateover();" onmouseout="updateout();" onmousedown="updatedown();">
 	<img name="buttonUpdate" src="images/update_s0.png" style="border:none;position:absolute;top:74%;left:12%"/>
 	</p:commandLink>
 	</p:outputPanel>
 	
 	<p:outputPanel layout="block">
 	<p:commandLink oncomplete="dlg.hide()" onmouseover="cancelover();" onmouseout="cancelout();" onmousedown="canceldown();">
 	<img name="buttonCancel" src="images/cancel_s0.png" style="border:none;position:absolute;top:74%;right:9%"/>
 	</p:commandLink>
 	</p:outputPanel>
  	</p:outputPanel>
    </p:dialog>
     
   
   
		<p:dialog  resizable="false" id="dlgLogDisplay" widgetVar="dlgLog" modal="true" draggable="false" closeOnEscape="true" header="Grades List">  

    	<p:dataTable var="grade" value="#{gradestudentBean.list}">  
        <p:column sortBy="#{grade.studentID}">  
            <f:facet name="header">  
                <h:outputText value="StudentID" />  
            </f:facet>  
            <h:outputText value="#{grade.studentID}" />  
        </p:column>  
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Record" />  
            </f:facet>  
            <p:commandButton update=":dlgSingleLogDisplay" oncomplete="dlgSingleLog.show()">
            	<f:setPropertyActionListener value="#{grade}"  target="#{gradestudentBean.log}" />
            </p:commandButton> 
        </p:column>  

        <p:column sortBy="#{grade.submitDate}">  
            <f:facet name="header">  
                <h:outputText value="SubmitDate" />
            </f:facet>  
            <h:outputText value="#{grade.submitDate}" />  
        </p:column>  
     </p:dataTable> 
	</p:dialog>
	
	
			<p:dialog  resizable="false" id="dlgSingleLogDisplay" widgetVar="dlgSingleLog" modal="true" draggable="false">  
				<h:outputText value="#{gradestudentBean.log.log_directory}"/>
			</p:dialog>
	
	
		<p:dialog  resizable="false" widgetVar="updateUI" id="updateDialog" width="430" height="420" modal="true" showHeader="false" draggable="false">  
		<p:outputPanel style="background-image:url(images/update_assignment.png);height:402px;width:412px" layout="block">
        <h:form enctype="multipart/form-data">
        <p:outputPanel layout="block" style="position:absolute;top:110px;left:45px">
    		<p:fileUpload value="#{controller.uploadedFile}"
            	mode="simple"
            	update="messages"
            	sizeLimit="100000" 
            	allowTypes="/(\.|\/)(zip)$/" 
            	style="border:none; box-shadow: none !important;"
            	/>

            <p:growl showDetail="true"/>  
		</p:outputPanel>
				<h3>deadline</h3>
		<p:calendar value="#{calendarBean.date}"/> 
		
			<p:outputPanel layout="block" style="position:absolute;left:45px;top:183px; border-style:none !important">	
				
				<p:inputTextarea rows="6" cols="41" counter="count" maxlength="140"       
    			counterTemplate="{0} characters remaining." value="#{controller.des}"
    			style="background:transparent; border-style:none !important"/>
    			<br/>   
				<h:outputText id="count" /> 
				
			</p:outputPanel>
			
			<p:outputPanel layout="block" style="position:absolute;top:355px;left:75px">
			<h:commandButton type="submit" onmouseover="this.src ='images/upload_s1.png'" onmouseout="this.src='images/upload_s0.png'" onmousedown="this.src='images/upload_s2.png'" action="#{controller.updateExist(menuoption.selectYear,menuoption.selectTerm,assignment.selectedAssignment.assignmentID, calendarBean.date)}" image="/images/upload_s0.png" />
			</p:outputPanel>
			
			<p:outputPanel layout="block" style="position:absolute;top:355px;right:59px">
			<h:commandButton type="button" onmouseover="this.src ='images/cancel_s1.png'" onmouseout="this.src='images/cancel_s0.png'" onmousedown="this.src='images/cancel_s2.png'"  image="/images/cancel_s0.png" onclick="updateUI.hide()" />
			</p:outputPanel>
			
		</h:form>
		</p:outputPanel>
	</p:dialog>
	
	<p:dialog  resizable="false" widgetVar="addnew" width="450" height="470" modal="true" showHeader="false" draggable="false">  
		<p:outputPanel style="background-image:url(images/add_assignment.png);height:450px;width:412px" layout="block">
        <h:form id="formAdd" enctype="multipart/form-data">
        <p:outputPanel layout="block" style="position:absolute;top:110px;left:45px">
    		<p:fileUpload value="#{controller.uploadedFile}"
            	mode="simple"
            	sizeLimit="100000" 
            	allowTypes="/(\.|\/)(zip)$/" 
            	styleClass="addNewUpload"
            	auto="true"
            	label="open"
            	/>

            <p:growl showDetail="true"/>  
		</p:outputPanel>
		
		
		<p:outputPanel layout="block" style="position:absolute;left:155px;top:150px; border-style:none !important">
		<p:calendar value="#{calendarBean.date}" id="popupCal" maxlength="8" size="4"/> 
		</p:outputPanel>
			
			<p:outputPanel layout="block" style="position:absolute;left:45px;top:230px; border-style:none !important; box-shadow: none !important;">	
				
				<p:inputTextarea rows="6" cols="41" counter="counter" maxlength="140"       
    			counterTemplate="{0} characters remaining." value="#{controller.des}"
    			style="background:transparent; border-style:none !important; box-shadow: none !important;"/>
    			<br/>   
				<h:outputText id="counter" /> 
				
			</p:outputPanel>
            
			
			<p:outputPanel layout="block" style="position:absolute;top:400px;left:55px">
			<h:commandButton type="submit" onmouseover="this.src ='images/upload_s1.png'" onmouseout="this.src='images/upload_s0.png'" onmousedown="this.src='images/upload_s2.png'" action="#{controller.addNew(menuoption.selectYear,menuoption.selectTerm, calendarBean.date)}" image="/images/upload_s0.png" />
			</p:outputPanel>
			
			<p:outputPanel layout="block" style="position:absolute;top:400px;right:59px">
			<h:commandButton type="button" onmouseover="this.src ='images/cancel_s1.png'" onmouseout="this.src='images/cancel_s0.png'" onmousedown="this.src='images/cancel_s2.png'"  image="/images/cancel_s0.png" onclick="addnew.hide()" />
			</p:outputPanel>
			
		</h:form>
		</p:outputPanel>
	</p:dialog>
  	
</p:outputPanel>

</h:body>
</html>