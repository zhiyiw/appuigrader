<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"></meta>
<meta http-equiv="Pragma" content="no-cache"></meta>
<meta http-equiv="Expires" content="0"></meta>

<link rel="stylesheet/less" type="text/css" href="css/assignmentDisplay.less" ></link>
    
<script src="js/less.js" type="text/javascript"></script>
	

<script type="text/javascript">
function buttonover()
{
	document.buttonAdd.src="images/add_r1_c1_s2.png";
}

function buttonout(){
	document.buttonAdd.src="images/add_r1_c1.png";
}

function buttondown(){
	document.buttonAdd.src="images/add_r1_c1_s3.png";
}

function iconover(){
	document.iconAdd.src="images/zoomin_s02.png";
}

function iconout(){
	document.iconAdd.src="images/zoomin_s01.png";
}

function updateover(){
	document.buttonUpdate.src="images/update_s1.png";
}

function updateout(){
	document.buttonUpdate.src="images/update_s0.png";
}

function updatedown(){
	document.buttonUpdate.src="images/update_s2.png";
}

function cancelover(){
	document.buttonCancel.src="images/cancel_s1.png";
}

function cancelout(){
	document.buttonCancel.src="images/cancel_s0.png";
}

function canceldown(){
	document.buttonCancel.src="images/cancel_s2.png";
}
</script>

	
</h:head>
<h:body>

	<p:outputPanel layout="block" styleClass="mainFrame">
    
    <p:outputPanel layout="block" styleClass="add">
    <p:commandLink onmouseover="buttonover();" onmouseout="buttonout();" onmousedown="buttondown();" onclick="addnew_page01.show()" styleClass="addNewAssignment" >
        <img name="buttonAdd" src="images/add_r1_c1.png" style="border:none"/>
    </p:commandLink>
    </p:outputPanel>
      
	<p:outputPanel layout="block" styleClass="ring">
	
	<h:form>
   <!--  <p:panel widgetVar="tableControl" visible="true" closable="true" closeSpeed="0"> -->
	<p:dataTable paginatorPosition="bottom" rowStyleClass="assignmentTableRow" styleClass="assignmentTable" id="table" var="a" value="#{assignment.list}" paginator="true" rows="9"  
                 selection="#{assignment.selectedAssignment}" rowKey="#{a.assignmentName}">  
     	<f:facet name="header">  
            .
        </f:facet>  
  
        <p:column selectionMode="single" style="width:18px" />  
        
        <p:column headerText="Assignment List">  
            #{a.assignmentName}  
        </p:column>
        
        <f:facet name="footer">  
             <p:commandButton id="v" value="Show Detail" icon="ui-icon-search" update=":dialog" oncomplete="dlg.show()"/> 
             <p:commandButton id="v1" value="Show Snapshot" icon="ui-icon-search" update=":screenshot" oncomplete="screenshotDlg.show()"/>
             <p:commandButton id="v2" value="Update" icon="ui-icon-search"/>
        </f:facet>
    </p:dataTable>   
<!--     </p:panel> -->
     
    </h:form>
    
    </p:outputPanel>
    
    <p:dialog id="screenshot" widgetVar="screenshotDlg">
    	<h:graphicImage value="#{assignment.selectedAssignment.screenDirectory}"></h:graphicImage>
    </p:dialog>
    
    <p:dialog id="dialog" widgetVar="dlg" showEffect="fade" hideEffect="fade" modal="true" width="330" height="315" showHeader="false" draggable="false" resizable="false" styleClass="test">  
  	<p:outputPanel id="display" style="text-align:center;background-image:url(images/update_panel.png);height:312px;width:312px" layout="block"> 
  	<p:outputPanel layout="block" style="position:absolute;top:7%;left:38%">
  	<h:outputText style="font-size:16; font-weight:bold;"  
                            value="#{assignment.selectedAssignment.assignmentName}" /> 
    </p:outputPanel> 
    
    
    <p:outputPanel layout="block" style="text-align:left;word-wrap:break-word; word-break:break-all; position:absolute;top:128px;left:56px; width:230px; height:100px">
<!--	<p:inputTextarea rows="0" cols="25" value="#{assignment.selectedAssignment.description}" />  -->  
  	 #{assignment.selectedAssignment.description}
    </p:outputPanel>
    
    
    <p:outputPanel layout="block">
 	<p:commandLink onclick="updateUI.show()" oncomplete="dlg.hide()" onmouseover="updateover();" onmouseout="updateout();" onmousedown="updatedown();">
 	<img name="buttonUpdate" src="images/update_s0.png" style="border:none;position:absolute;top:74%;left:12%"/>
 	</p:commandLink>
 	</p:outputPanel>
 	
 	<p:outputPanel layout="block">
 	<p:commandLink oncomplete="dlg.hide()" onmouseover="cancelover();" onmouseout="cancelout();" onmousedown="canceldown();">
 	<img name="buttonCancel" src="images/cancel_s0.png" style="border:none;position:absolute;top:74%;right:9%"/>
 	</p:commandLink>
 	</p:outputPanel>
  	</p:outputPanel>
    </p:dialog>
	
	
	
	<p:dialog  resizable="false" widgetVar="addnew_page01" width="450" height="470" modal="true" showHeader="false" draggable="false">  
		<p:outputPanel style="background-image:url(images/add_assignment.png);height:450px;width:412px" layout="block">
        <h:form id="formAdd" enctype="multipart/form-data">
        <p:outputPanel layout="block" style="position:absolute;top:110px;left:45px">
    		<p:fileUpload fileUploadListener="#{controller.handleZipUpload}"
            	mode="advanced"
            	sizeLimit="10000000" 
            	allowTypes="/(\.|\/)(zip)$/" 
            	style="border:none"
            	required="true"
            	showButtons="false"
            	auto="true"
            	update="out1"
            	/>
		</p:outputPanel>
		<h:outputText id="out1" value="#{controller.selectedZipFilename}" /> 
			
			<p:outputPanel layout="block" style="position:absolute;left:45px;top:230px; border-style:none !important; box-shadow: none !important;">	
				
				<p:inputTextarea rows="6" cols="41" counter="counter" maxlength="140"       
    			counterTemplate="{0} characters remaining." value="#{controller.description}"
    			style="background:transparent; border-style:none !important; box-shadow: none !important;">
    			<br/>   
    			<p:ajax event="blur" update=":dialog_02" process="@this"/>
    			</p:inputTextarea>
				<h:outputText id="counter" /> 
				
			</p:outputPanel>
			

			
			<p:outputPanel layout="block" style="position:absolute;top:400px;left:55px">
			<h:commandButton type="button" onmouseover="this.src ='images/upload_s1.png'" onmouseout="this.src='images/upload_s0.png'" onmousedown="this.src='images/upload_s2.png'"  image="/images/upload_s0.png" onclick="addnew_page01.hide(); addnew_page02.show();"/>
			</p:outputPanel>
			
			<p:outputPanel layout="block" style="position:absolute;top:400px;right:59px">
			<h:commandButton type="button" onmouseover="this.src ='images/cancel_s1.png'" onmouseout="this.src='images/cancel_s0.png'" onmousedown="this.src='images/cancel_s2.png'"  image="/images/cancel_s0.png" onclick="addnew_page01.hide()" action="#{controller.reset()}"/>
			</p:outputPanel>
			
		</h:form>
		</p:outputPanel>
	</p:dialog>
	
	<p:dialog  resizable="false" id="dialog_02" widgetVar="addnew_page02" width="450" height="470" modal="true" showHeader="false" draggable="false">  
		<p:outputPanel style="background-image:url(images/add_assignment.png);height:450px;width:412px" layout="block">
        <h:form enctype="multipart/form-data">
        <p:outputPanel layout="block" style="position:absolute;top:110px;left:45px">
    		<p:fileUpload fileUploadListener="#{controller.handleImageUpload}"
            	mode="advanced"
            	sizeLimit="10000000" 
            	allowTypes="/(\.|\/)(png)$/" 
            	style="border:none"
            	required="true"
            	showButtons="false"
            	auto="true"
            	update="out2"
            	widgetVar="fileuplaod_wgt"
            	/>
		</p:outputPanel>
		<h:outputText id="out2" value="#{controller.selectedImageFilename}" /> 
			
			<p:outputPanel layout="block" style="position:absolute;left:45px;top:230px; border-style:none !important; box-shadow: none !important;">	
			<h:outputText value="Difficulty:" />  
        	<p:rating value="#{controller.rating}" stars="5" cancel="false"/> 
        	
  						<p:inputText id="point" value="#{controller.point}" />  
        	<p:slider for="point"/>
            
				
			</p:outputPanel>
            
			
			<p:outputPanel layout="block" style="position:absolute;top:400px;left:55px">
			<h:commandButton type="submit" onmouseover="this.src ='images/upload_s1.png'" onmouseout="this.src='images/upload_s0.png'" onmousedown="this.src='images/upload_s2.png'"  image="/images/upload_s0.png" onclick="addnew_page02.hide();" action="#{controller.addNew()}" />
			</p:outputPanel>
			
			<p:outputPanel layout="block" style="position:absolute;top:400px;right:59px">
			<h:commandButton type="button" onmouseover="this.src ='images/cancel_s1.png'" onmouseout="this.src='images/cancel_s0.png'" onmousedown="this.src='images/cancel_s2.png'"  image="/images/cancel_s0.png" onclick="addnew_page02.hide()" action="#{controller.reset()}"/>
			</p:outputPanel>
			
		</h:form>
		</p:outputPanel>
	</p:dialog>
  	
</p:outputPanel>

</h:body>
</html>
